schema_info:
  name: "synonym_judge"
  description: "Evaluates medical diagnosis synonyms"
  version: "1.0.0"

json_schema:
  type: "object"
  properties:
    result:
      type: "integer"
      minimum: 0
      maximum: 5
      description: "Index of matching synonym (0 if none found)"
    reason:
      type: "string"
      enum: ["exact", "broad", "none"]
      description: "Type of match found"
  required: ["result", "reason"]
  additionalProperties: false

prompts:
  - id: "default"
    system: "You are a strict medical evaluator."
    user: |
      Evaluate the following medical diagnosis:

      Golden diagnosis: "{{ground_truth}}"
      Candidate list (index 1-5): {{output}}

      Rules:
      1. Look for synonyms â€“ exact or clinically broader terms are allowed
      2. If several candidates match, choose the one with the lowest index
      3. Output must match the schema exactly

generation_params:
  temperature: 0.1
  max_tokens: 100
